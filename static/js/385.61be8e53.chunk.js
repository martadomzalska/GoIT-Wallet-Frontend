"use strict";(self.webpackChunkwallet=self.webpackChunkwallet||[]).push([[385],{7844:(e,a,t)=>{t.d(a,{H:()=>h});t(2791);var n=t(4805);const s="BackgroundContainer_containerAll__VmaRx",o="BackgroundContainer_container__mNblx",i="BackgroundContainer_mobile__K7gPD",l="BackgroundContainer_tablet__hewMm",r="BackgroundContainer_desktop__NMoAX",c="BackgroundContainer_background__xUlXo",d="BackgroundContainer_backgroundTablet__Zcs5v",_="BackgroundContainer_backgroundDesktop__5XBsB";var m=t(184);const h=e=>{let{children:a}=e;const t=(0,n.useMediaQuery)({maxWidth:768}),h=(0,n.useMediaQuery)({minWidth:769,maxWidth:1279}),u=(0,n.useMediaQuery)({minWidth:1280});let x=o,g=c;return u?(x+=" ".concat(r),g+=" ".concat(_)):h?(x+=" ".concat(l),g+=" ".concat(d)):t&&(x+=" ".concat(i)),(0,m.jsxs)("div",{className:s,children:[(0,m.jsx)("div",{className:g,children:" "}),(0,m.jsx)("div",{className:x,children:a})]})}},3729:(e,a,t)=>{t.d(a,{F:()=>u});var n=t(2791),s=t(9434),o=t(7076);const i=e=>e.currency.isError,l=e=>e.currency.data,r=e=>e.currency.lastFetchDate,c="Currency_Currency__container__rSML5",d="Currency_Currency__bgGraph__WjX6U",_="Currency_Currency__row_selected__bs+Ae",m="Currency_Currency__table__kmI5h";var h=t(184);const u=()=>{const e=(0,s.I0)(),a=(0,s.v9)(l),t=(0,s.v9)(i),u=(0,s.v9)(r);return(0,n.useEffect)((()=>{if(a.length){Date.now()-u>36e5&&e((0,o.k)())}else e((0,o.k)())}),[a,e,u]),(0,h.jsxs)(h.Fragment,{children:[t&&(0,h.jsx)("p",{children:t[0]}),(0,h.jsxs)("div",{className:c,children:[(0,h.jsx)("div",{className:d}),!t&&(0,h.jsxs)("table",{className:m,children:[(0,h.jsx)("thead",{children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{children:"Currency"}),(0,h.jsx)("th",{"data-type":"bid",children:"Purchase"}),(0,h.jsx)("th",{"data-type":"ask",children:"Sale"}),(0,h.jsx)("th",{})]})}),(0,h.jsx)("tbody",{children:null===a||void 0===a?void 0:a.map((e=>(0,h.jsxs)("tr",{onClick:e=>e.currentTarget.classList.toggle(_),children:[(0,h.jsx)("td",{children:e.code}),(0,h.jsx)("td",{"data-type":"bid",children:e.bid.toFixed(4)}),(0,h.jsx)("td",{"data-type":"ask",children:e.ask.toFixed(4)})]},e.code)))})]})]})]})}},7132:(e,a,t)=>{t.d(a,{q:()=>B});var n=t(2791),s=t(9434),o=t(6378),i=t(4805);const l="NavBalanceCurrency_container__260j2",r="NavBalanceCurrency_desktop__j129s",c="NavBalanceCurrency_tablet__YlQLF",d="NavBalanceCurrency_mobile__rvPk4",_="NavBalanceCurrency_navBalance__f02Rj",m="NavBalanceCurrency_navBalanceMobile__YgFF8",h="NavBalanceCurrency_navBalanceTablet__pYFHG",u="NavBalanceCurrency_navBalanceDesktop__laBeQ",x="NavBalanceCurrency_currencyTablet__CPr-R",g="NavBalanceCurrency_currencyMobile__ub1vh";var p=t(6239),j=t(3729),v=t(8418);const f="Balance_balance__kAwRX",y="Balance_balance__text__pUfL6",N="Balance_balance__amount__FOH9a",b="Balance_balance__currency__Oy+dn";var M=t(184);function C(){const e=(0,s.v9)(v.QM);console.log("Balance from selector:",e);const a=isNaN(parseFloat(e))?"0.00":parseFloat(e).toFixed(2);return(0,M.jsxs)("div",{className:f,children:[(0,M.jsx)("div",{className:y,children:"Your balance"}),(0,M.jsxs)("div",{className:N,children:[(0,M.jsx)("span",{className:b,children:"PLN"}),a]})]})}const B=()=>{const e=(0,i.useMediaQuery)({maxWidth:768}),a=(0,i.useMediaQuery)({minWidth:769,maxWidth:1279}),t=(0,i.useMediaQuery)({minWidth:1280}),v=(0,s.I0)();(0,n.useEffect)((()=>{v((0,o._v)())}),[v]);let f,y=l,N=_;return t?(y+=" ".concat(r),N+=" ".concat(u)):a?(y+=" ".concat(c),N+=" ".concat(h),f=" ".concat(x)):e&&(y+=" ".concat(d),f=" ".concat(g),N+=" ".concat(m)),(0,M.jsxs)("div",{className:y,children:[(0,M.jsxs)("div",{className:N,children:[(0,M.jsx)(p.W,{}),(0,M.jsx)(C,{})]}),(0,M.jsx)("div",{className:f,children:(0,M.jsx)(j.F,{})})]})}},6239:(e,a,t)=>{t.d(a,{W:()=>j});var n=t(168),s=t(8820),o=t(7692),i=t(3524),l=t(8547);const r="Navigation_navigation__+DN70",c="Navigation_navigation__item__9ATd9",d="Navigation_navigation__icon_display__QHIaH",_="Navigation_navigation__item_currency__TzfYt",m="Navigation_navigation__item_home__sBTN6",h="Navigation_navigation__item_stats__vmVq3";var u,x=t(1087),g=t(184);const p=(0,l.ZP)(x.OL)(u||(u=(0,n.Z)(["\n  &.active {\n    font-weight: 700;\n\n    div div {\n      background-color: #4a56e2;\n    }\n  }\n"]))),j=()=>(0,g.jsxs)("div",{className:r,children:[(0,g.jsx)(p,{to:"/home",children:(0,g.jsxs)("div",{className:d,children:[(0,g.jsx)("div",{className:c,children:(0,g.jsx)(s.V9Z,{})}),(0,g.jsx)("div",{className:m,children:"Home"})]})}),(0,g.jsx)(p,{to:"/diagram",children:(0,g.jsxs)("div",{className:d,children:[(0,g.jsx)("div",{className:c,children:(0,g.jsx)(o.s2C,{})}),(0,g.jsx)("div",{className:h,children:"Statistics"})]})}),(0,g.jsx)(p,{to:"/currency",children:(0,g.jsx)("div",{children:(0,g.jsx)("div",{className:_,children:(0,g.jsx)(i.EIZ,{})})})})]})},1495:(e,a,t)=>{t.r(a),t.d(a,{default:()=>se});var n=t(4270),s=t(7844),o=t(7132),i=t(2791),l=t(9434);const r={button:"ButtonAddTransaction_button__k2T6o"};var c=t(1799),d=t.n(c);t(1778);const _={modalOverlay:"ModalAddTransaction_modalOverlay__W6tUK",modal:"ModalAddTransaction_modal__nw6+Y",closeButton:"ModalAddTransaction_closeButton__lDApu",modalContent:"ModalAddTransaction_modalContent__msS5s",headline:"ModalAddTransaction_headline__qCRgi",rangeContainer:"ModalAddTransaction_rangeContainer__OWjG7",rangeContainerExpense:"ModalAddTransaction_rangeContainerExpense__Knkkr",income:"ModalAddTransaction_income__w1TsD",expense:"ModalAddTransaction_expense__Upfkk",nohighlight:"ModalAddTransaction_nohighlight__xfmmm",toggleButton:"ModalAddTransaction_toggleButton__IFVPw",toggleButtonIncome:"ModalAddTransaction_toggleButtonIncome__a7DqU",toggleButtonExpense:"ModalAddTransaction_toggleButtonExpense__NyX+z",toggleButtonInput:"ModalAddTransaction_toggleButtonInput__r+fug",range:"ModalAddTransaction_range__44PSJ",categoryWrapper:"ModalAddTransaction_categoryWrapper__iRCIg",category:"ModalAddTransaction_category__az7f6",form:"ModalAddTransaction_form__ACW1k",sumLabel:"ModalAddTransaction_sumLabel__U1842",sumInput:"ModalAddTransaction_sumInput__DMmcN",comment:"ModalAddTransaction_comment__TLW07",addBtn:"ModalAddTransaction_addBtn__i4bJV",closeBtn:"ModalAddTransaction_closeBtn__u+mnh",dateLabel:"ModalAddTransaction_dateLabel__4lXQT",dateContainer:"ModalAddTransaction_dateContainer__fOfBX",selectCategory:"ModalAddTransaction_selectCategory__VoSKX",formikMessage:"ModalAddTransaction_formikMessage__B96lG",formikMessageRequired:"ModalAddTransaction_formikMessageRequired__iec+Z",formikMessageData:"ModalAddTransaction_formikMessageData__3VFTl",error:"ModalAddTransaction_error__xi6dI",modalExpense:"ModalAddTransaction_modalExpense__pglPl"};var m=t(2530),h=t(2506),u=t(8007);const x=new Date,g=new Date(x.setHours(23,59,59,999)),p=u.Ry({amount:u.Rx().required("Required!").positive("Amount must be positive").max(1e6,"Amount must be less or equal to 1000000"),date:u.hT().required("Required!").max(g,"Past or present"),type:u.Z_().required("Required!").oneOf(["income","expense"],"Invalid transaction type"),comment:u.Z_().nullable(),category:u.Z_().required("Required!")});var j=t(6378),v=t(6253),f=t(9655),y=t(184);const N=e=>{let{isOpen:a,onClose:t}=e;const n=(0,v.q_)({transform:a?"scale(1)":"scale(0)",opacity:a?1:0,visibility:a?"visible":"hidden",config:{duration:300}}),s=(0,l.I0)(),o=(0,l.v9)(m.us),[r,c]=(0,i.useState)(!1),[u,x]=(0,i.useState)(new Date),g=(0,h.TA)({initialValues:{type:r?"income":"expense",category:"",amount:"",date:new Date,comment:""},validationSchema:p,onSubmit:(e,a)=>{let{resetForm:n}=a;console.log(e);const o={type:r?"income":"expense",category:r?"1":e.category,amount:e.amount,date:e.date,comment:e.comment};s((0,j.dT)(o)).unwrap().then((()=>{n(),t(),f.Am.success("Transaction added successfully")})).then((()=>{s((0,j._v)())})).catch((e=>{console.error(e),f.Am.error(e)}))}}),N=e=>{"Escape"===e.key&&t()};(0,i.useEffect)((()=>(a&&window.addEventListener("keydown",N),()=>{window.removeEventListener("keydown",N)})),[a,t]);return a?(0,y.jsx)(v.q.div,{style:n,id:"modalBackdrop",className:_.modalOverlay,onClick:e=>{"modalBackdrop"===e.target.id&&t()},children:(0,y.jsx)("div",{className:r?_.modal:"".concat(_.modal," ").concat(_.modalExpense),children:(0,y.jsxs)("div",{className:_.modalContent,children:[(0,y.jsx)("button",{className:_.closeButton,onClick:t,children:(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18",fill:"none",children:[(0,y.jsx)("path",{d:"M1 1L17 17",stroke:"black"}),(0,y.jsx)("path",{d:"M1 17L17 0.999999",stroke:"black"})]})}),(0,y.jsx)("p",{className:_.headline,children:"Add Transaction"}),(0,y.jsxs)("form",{className:_.form,onSubmit:g.handleSubmit,children:[(0,y.jsxs)("label",{className:_.toggleButtonLabel,children:[(0,y.jsx)("input",{type:"checkbox",checked:r,onChange:e=>{c(e.target.checked),g.setFieldValue("category",e.target.checked?"1":"")},className:_.toggleButtonInput,name:"type"}),(0,y.jsx)("div",{className:_.toggleButton,children:r?(0,y.jsxs)("svg",{className:_.toggleButtonIncome,xmlns:"http://www.w3.org/2000/svg",width:"74",height:"74",viewBox:"0 0 74 74",fill:"none",children:[(0,y.jsx)("g",{filter:"url(#filter0_d_19664_746)",children:(0,y.jsx)("circle",{cx:"37",cy:"31",r:"22",fill:"#24CCA7"})}),(0,y.jsx)("path",{d:"M37 21V41",stroke:"white",strokeWidth:"2"}),(0,y.jsx)("path",{d:"M27 31L47 31",stroke:"white",strokeWidth:"2"}),(0,y.jsx)("defs",{children:(0,y.jsxs)("filter",{id:"filter0_d_19664_746",x:"0",y:"0",width:"74",height:"74",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,y.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,y.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,y.jsx)("feOffset",{dy:"6"}),(0,y.jsx)("feGaussianBlur",{stdDeviation:"7.5"}),(0,y.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.141176 0 0 0 0 0.8 0 0 0 0 0.654902 0 0 0 0.5 0"}),(0,y.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_19664_746"}),(0,y.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_19664_746",result:"shape"})]})})]}):(0,y.jsxs)("svg",{className:_.toggleButtonExpense,xmlns:"http://www.w3.org/2000/svg",width:"74",height:"74",viewBox:"0 0 74 74",fill:"none",children:[(0,y.jsx)("g",{filter:"url(#filter0_d_19664_1473)",children:(0,y.jsx)("circle",{cx:"37",cy:"31",r:"22",fill:"#FF6596"})}),(0,y.jsx)("path",{d:"M27 31L47 31",stroke:"white",strokeWidth:"2"}),(0,y.jsx)("defs",{children:(0,y.jsxs)("filter",{id:"filter0_d_19664_1473",x:"0",y:"0",width:"74",height:"74",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,y.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,y.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,y.jsx)("feOffset",{dy:"6"}),(0,y.jsx)("feGaussianBlur",{stdDeviation:"7.5"}),(0,y.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 0.395833 0 0 0 0 0.589401 0 0 0 0.5 0"}),(0,y.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_19664_1473"}),(0,y.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_19664_1473",result:"shape"})]})})]})})]}),(0,y.jsxs)("div",{className:r?_.rangeContainer:"".concat(_.rangeContainer," ").concat(_.rangeContainerExpense),children:[(0,y.jsx)("span",{className:r?_.income:"".concat(_.income," ").concat(_.nohighlight),children:"Income"}),(0,y.jsx)("span",{className:r?"".concat(_.expense," ").concat(_.nohighlight):_.expense,children:"Expense"})]}),r?null:(0,y.jsxs)("div",{className:_.categoryWrapper,children:[(0,y.jsxs)("select",{className:"".concat(_.category," ").concat(g.touched.category&&g.errors.category?_.error:""),name:"category",value:g.values.category,onChange:e=>{const a=e.target.value;g.setFieldValue("category",a)},onBlur:g.handleBlur,required:!0,children:[(0,y.jsx)("option",{value:"",disabled:!0,children:"Select a category"}),o.slice(1).map((e=>(0,y.jsx)("option",{value:e.id,children:e.name},e.id)))]}),g.touched.category&&g.errors.category&&(0,y.jsx)("div",{className:_.formikMessageRequired,children:g.errors.category})]}),(0,y.jsxs)("label",{className:_.sumLabel,children:[(0,y.jsx)("input",{className:"".concat(_.sumInput," ").concat(g.touched.amount&&g.errors.amount?_.error:""),type:"number",placeholder:"0.00",...g.getFieldProps("amount")}),g.touched.amount&&g.errors.amount&&(0,y.jsx)("div",{className:_.formikMessage,children:g.errors.amount})]}),(0,y.jsxs)("label",{className:"".concat(_.dateLabel," ").concat(g.touched.date&&g.errors.date?_.error:""),children:[(0,y.jsx)(d(),{value:u,onChange:e=>{const a=e?e.toDate():null;x(a),g.setFieldValue("date",a)},renderInput:e=>(0,y.jsxs)("div",{className:_.dateContainer,style:{position:"relative"},children:[(0,y.jsx)("input",{className:_.dateInput,...e}),(0,y.jsxs)("svg",{className:_.calendarIcon,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,y.jsx)("g",{clipPath:"url(#clip0_7_312)",children:(0,y.jsx)("path",{d:"M9 11H7V13H9V11ZM13 11H11V13H13V11ZM17 11H15V13H17V11ZM19 4H18V2H16V4H8V2H6V4H5C3.89 4 3.01 4.9 3.01 6L3 20C3 21.1 3.89 22 5 22H19C20.1 22 21 21.1 21 20V6C21 4.9 20.1 4 19 4ZM19 20H5V9H19V20Z",fill:"#4A56E2"})}),(0,y.jsx)("defs",{children:(0,y.jsx)("clipPath",{id:"clip0_7_312",children:(0,y.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]})]}),dateFormat:"DD-MM-YYYY",timeFormat:!1,name:"date",onBlur:g.handleBlur}),g.touched.date&&g.errors.date&&(0,y.jsx)("div",{className:_.formikMessageData,children:g.errors.date})]}),(0,y.jsx)("textarea",{className:_.comment,placeholder:"Comment",...g.getFieldProps("comment")}),(0,y.jsx)("button",{className:_.addBtn,type:"submit",children:"Add"}),(0,y.jsx)("button",{className:_.closeBtn,onClick:t,type:"button",children:"Cancel"})]})]})})}):null};var b=t(4716),M=t(7380);const C=()=>{const e=(0,l.I0)(),a=(0,l.v9)(M.zy),t=()=>{e((0,b.VG)())};return(0,y.jsxs)("div",{children:[(0,y.jsx)("button",{className:r.button,onClick:t,children:(0,y.jsxs)("svg",{className:r.icon,xmlns:"http://www.w3.org/2000/svg",width:"74",height:"73",viewBox:"0 0 74 73",fill:"none",children:[(0,y.jsx)("g",{filter:"url(#filter0_d_7_35)",children:(0,y.jsx)("circle",{cx:"37",cy:"31",r:"22",fill:"#24CCA7"})}),(0,y.jsx)("path",{d:"M37 21V41",stroke:"white",strokeWidth:"2"}),(0,y.jsx)("path",{d:"M27 31L47 31",stroke:"white",strokeWidth:"2"}),(0,y.jsx)("defs",{children:(0,y.jsxs)("filter",{id:"filter0_d_7_35",x:"0",y:"0",width:"74",height:"74",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,y.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,y.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,y.jsx)("feOffset",{dy:"6"}),(0,y.jsx)("feGaussianBlur",{stdDeviation:"7.5"}),(0,y.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.141176 0 0 0 0 0.8 0 0 0 0 0.654902 0 0 0 0.5 0"}),(0,y.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_7_35"}),(0,y.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_7_35",result:"shape"})]})})]})}),(0,y.jsx)(N,{isOpen:a,onClose:t})]})},B={lineMobileTablet:"HomePage_lineMobileTablet__Nw0pv",lineDesktop:"HomePage_lineDesktop__2VxD8"};var k=t(4805),w=t(6856);const T="HomeTab_table__-KI6G",E="HomeTab_tableHead__yzO7A",A="HomeTab_tableHeadRow__yHZ7n",H="HomeTab_tableHeadData__+bmqc",D="HomeTab_tableBody__uxIdY",I="HomeTab_tableBodyRow__KGEW2",S="HomeTab_tableBodyData__gcEls",L="HomeTab_buttonEdit__K+Nod",F="HomeTab_button__m+hGH",V="HomeTab_mobileList__o0kuA",O="HomeTab_mobileListPlus__bPYQj",W="HomeTab_mobileListItem__iv934",P="HomeTab_mobileListCategory__4RjMD",q="HomeTab_mobileListData__d0v0m",R="HomeTab_mobileListDataPlus__x1S-R",G="HomeTab_mobileListDataMinus__1wWjl",Z="HomeTab_deleteButton__nvpXi",Y="HomeTab_editButton__wapmI";var U=t(8418),Q=t(5716);const X={modalOverlay:"ModalEditTransaction_modalOverlay__-UuiJ",modal:"ModalEditTransaction_modal__bfg3v",closeButton:"ModalEditTransaction_closeButton__ck8mH",modalContent:"ModalEditTransaction_modalContent__lSglk",headline:"ModalEditTransaction_headline__lB2Bp",rangeContainer:"ModalEditTransaction_rangeContainer__JsiEv",rangeContainerExpense:"ModalEditTransaction_rangeContainerExpense__YO7is",income:"ModalEditTransaction_income__EiwHl",expense:"ModalEditTransaction_expense__sDK1q",nohighlight:"ModalEditTransaction_nohighlight__634HO",toggleButton:"ModalEditTransaction_toggleButton__Ci3t1",toggleButtonIncome:"ModalEditTransaction_toggleButtonIncome__zDswq",toggleButtonExpense:"ModalEditTransaction_toggleButtonExpense__qmo4h",toggleButtonInput:"ModalEditTransaction_toggleButtonInput__RbK-v",range:"ModalEditTransaction_range__Cp+af",categoryWrapper:"ModalEditTransaction_categoryWrapper__wA+4H",category:"ModalEditTransaction_category__Gcgb9",form:"ModalEditTransaction_form__Mkxte",sumLabel:"ModalEditTransaction_sumLabel__-aeLX",sumInput:"ModalEditTransaction_sumInput__Wur+K",comment:"ModalEditTransaction_comment__S-aa4",addBtn:"ModalEditTransaction_addBtn__9za9n",closeBtn:"ModalEditTransaction_closeBtn__NuOGr",dateLabel:"ModalEditTransaction_dateLabel__X0eil",dateContainer:"ModalEditTransaction_dateContainer__0zY93",selectCategory:"ModalEditTransaction_selectCategory__AxWF+",formikMessage:"ModalEditTransaction_formikMessage__n-WjY",formikMessageRequired:"ModalEditTransaction_formikMessageRequired__fxfll",formikMessageData:"ModalEditTransaction_formikMessageData__X8goE",error:"ModalEditTransaction_error__I6FJ2",modalExpense:"ModalEditTransaction_modalExpense__EYONn"},z=e=>{let{isOpen:a,onClose:t,transactionToEdit:n}=e;const s=(0,l.I0)(),o=(0,l.v9)(m.us),r=(0,v.q_)({transform:a?"scale(1)":"scale(0)",opacity:a?1:0,visibility:a?"visible":"hidden",config:{duration:300}}),[c,_]=(0,i.useState)(!1),[h,u]=(0,i.useState)(""),[x,g]=(0,i.useState)(""),[p,N]=(0,i.useState)(new Date),[b,M]=(0,i.useState)(""),[C,B]=(0,i.useState)(null),[k,w]=(0,i.useState)({});(0,i.useEffect)((()=>{if(n&&n.data&&n.data.length>0){var e;const a=n.data[0];_("income"===a.type),u((null===(e=a.category)||void 0===e?void 0:e.toString())||""),g(a.amount||0),N(new Date(a.date||new Date)),M(a.comment||""),B(a._id||null)}w({})}),[n,a]);(0,i.useEffect)((()=>{if(n&&n.date){const e=new Date(n.date);isNaN(e.getTime())?N(new Date):N(e)}}),[n]);const T=e=>{"Escape"===e.key&&t()};(0,i.useEffect)((()=>(a&&window.addEventListener("keydown",T),()=>{window.removeEventListener("keydown",T)})),[a,t]);return a?(0,y.jsx)(v.q.div,{style:r,id:"modalBackdrop",className:X.modalOverlay,onClick:e=>{"modalBackdrop"===e.target.id&&t()},children:(0,y.jsx)("div",{className:c?X.modal:"".concat(X.modal," ").concat(X.modalExpense),children:(0,y.jsxs)("div",{className:X.modalContent,children:[(0,y.jsx)("button",{className:X.closeButton,onClick:t,children:(0,y.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 18 18",fill:"none",children:[(0,y.jsx)("path",{d:"M1 1L17 17",stroke:"black"}),(0,y.jsx)("path",{d:"M1 17L17 0.999999",stroke:"black"})]})}),(0,y.jsx)("p",{className:X.headline,children:"Edit Transaction"}),(0,y.jsxs)("form",{className:X.form,onSubmit:e=>{e.preventDefault();const a=(()=>{const e={};return(!x||x<=0||x>1e6)&&(e.amount="Positive and less than or equal to 1000000"),(!p||p>new Date)&&(e.date="Past or present"),e})();if(w(a),0===Object.keys(a).length){const e={id:C,type:c?"income":"expense",category:h,amount:x,date:p.toISOString(),comment:b};s((0,j.Ld)(e)).unwrap().then((()=>{t(),f.Am.success("Transaction updated successfully")})).catch((e=>{console.error(e),f.Am.error(e)}))}},children:[(0,y.jsxs)("label",{className:X.toggleButtonLabel,children:[(0,y.jsx)("input",{type:"checkbox",checked:c,onChange:()=>_(!c),className:X.toggleButtonInput,name:"type"}),(0,y.jsx)("div",{className:X.toggleButton,children:c?(0,y.jsxs)("svg",{className:X.toggleButtonIncome,xmlns:"http://www.w3.org/2000/svg",width:"74",height:"74",viewBox:"0 0 74 74",fill:"none",children:[(0,y.jsx)("g",{filter:"url(#filter0_d_19664_746)",children:(0,y.jsx)("circle",{cx:"37",cy:"31",r:"22",fill:"#24CCA7"})}),(0,y.jsx)("path",{d:"M37 21V41",stroke:"white",strokeWidth:"2"}),(0,y.jsx)("path",{d:"M27 31L47 31",stroke:"white",strokeWidth:"2"}),(0,y.jsx)("defs",{children:(0,y.jsxs)("filter",{id:"filter0_d_19664_746",x:"0",y:"0",width:"74",height:"74",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,y.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,y.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,y.jsx)("feOffset",{dy:"6"}),(0,y.jsx)("feGaussianBlur",{stdDeviation:"7.5"}),(0,y.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.141176 0 0 0 0 0.8 0 0 0 0 0.654902 0 0 0 0.5 0"}),(0,y.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_19664_746"}),(0,y.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_19664_746",result:"shape"})]})})]}):(0,y.jsxs)("svg",{className:X.toggleButtonExpense,xmlns:"http://www.w3.org/2000/svg",width:"74",height:"74",viewBox:"0 0 74 74",fill:"none",children:[(0,y.jsx)("g",{filter:"url(#filter0_d_19664_1473)",children:(0,y.jsx)("circle",{cx:"37",cy:"31",r:"22",fill:"#FF6596"})}),(0,y.jsx)("path",{d:"M27 31L47 31",stroke:"white",strokeWidth:"2"}),(0,y.jsx)("defs",{children:(0,y.jsxs)("filter",{id:"filter0_d_19664_1473",x:"0",y:"0",width:"74",height:"74",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,y.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,y.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,y.jsx)("feOffset",{dy:"6"}),(0,y.jsx)("feGaussianBlur",{stdDeviation:"7.5"}),(0,y.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 0.395833 0 0 0 0 0.589401 0 0 0 0.5 0"}),(0,y.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_19664_1473"}),(0,y.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_19664_1473",result:"shape"})]})})]})})]}),(0,y.jsxs)("div",{className:c?X.rangeContainer:"".concat(X.rangeContainer," ").concat(X.rangeContainerExpense),children:[(0,y.jsx)("span",{className:c?X.income:"".concat(X.income," ").concat(X.nohighlight),children:"Income"}),(0,y.jsx)("span",{className:c?"".concat(X.expense," ").concat(X.nohighlight):X.expense,children:"Expense"})]}),c?null:(0,y.jsx)("div",{className:X.categoryWrapper,children:(0,y.jsxs)("select",{className:X.category,name:"category",value:h,onChange:e=>u(e.target.value),required:!0,children:[(0,y.jsx)("option",{value:"",disabled:!0,children:"Select a category"}),o.slice(1).map((e=>(0,y.jsx)("option",{value:e.id,children:e.name},e.id)))]})}),(0,y.jsxs)("label",{className:X.sumLabel,children:[(0,y.jsx)("input",{className:"".concat(X.sumInput," ").concat(k.amount?X.error:""),type:"number",placeholder:"0.00",value:x,onChange:e=>g(e.target.value)}),k.amount&&(0,y.jsx)("div",{className:X.formikMessage,children:k.amount})]}),(0,y.jsxs)("label",{className:"".concat(X.dateLabel," ").concat(k.date?X.error:""),children:[(0,y.jsx)(d(),{value:p,onChange:e=>{e&&e.isValid()?N(e.toDate()):N(new Date)},renderInput:e=>(0,y.jsxs)("div",{className:X.dateContainer,style:{position:"relative"},children:[(0,y.jsx)("input",{className:X.dateInput,...e}),(0,y.jsxs)("svg",{className:X.calendarIcon,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,y.jsx)("g",{clipPath:"url(#clip0_7_312)",children:(0,y.jsx)("path",{d:"M9 11H7V13H9V11ZM13 11H11V13H13V11ZM17 11H15V13H17V11ZM19 4H18V2H16V4H8V2H6V4H5C3.89 4 3.01 4.9 3.01 6L3 20C3 21.1 3.89 22 5 22H19C20.1 22 21 21.1 21 20V6C21 4.9 20.1 4 19 4ZM19 20H5V9H19V20Z",fill:"#4A56E2"})}),(0,y.jsx)("defs",{children:(0,y.jsx)("clipPath",{id:"clip0_7_312",children:(0,y.jsx)("rect",{width:"24",height:"24",fill:"white"})})})]})]}),dateFormat:"DD-MM-YYYY",timeFormat:!1}),k.date&&(0,y.jsx)("div",{className:X.formikMessageData,children:k.date})]}),(0,y.jsx)("textarea",{className:X.comment,placeholder:"Comment",value:b,onChange:e=>M(e.target.value)}),(0,y.jsx)("button",{className:X.addBtn,type:"submit",children:"SAVE"}),(0,y.jsx)("button",{className:X.closeBtn,onClick:t,type:"button",children:"Cancel"})]})]})})}):null};var K=t(6048),J=t.n(K);const $={pagination:"Pagination_pagination__uxvE+",paginationLinkActive:"Pagination_paginationLinkActive__AOP4Z",paginationLinkDisabled:"Pagination_paginationLinkDisabled__VXQxW"},ee=e=>{let{transactionsPerPage:a,totalTransactions:t,paginate:n}=e;const s=Math.ceil(t/a);return(0,y.jsx)(J(),{breakLabel:"...",onPageChange:e=>{n(e.selected+1)},pageRangeDisplayed:3,pageCount:s,previousLabel:" \u2190 ",nextLabel:" \u2192 ",renderOnZeroPageCount:null,containerClassName:$.pagination,previousLinkClassName:$.paginationLink,nextLinkClassName:$.paginationLink,disabledClassName:$.paginationLinkDisabled,activeClassName:$.paginationLinkActive})};function ae(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2022-12-01T00:00:00.000Z").split("T")[0].split("-").reverse().join(".")}const te=["Date","Type","Category","Comment","Sum"];const ne=function(){const[e,a]=(0,i.useState)(1),[t]=(0,i.useState)(8),n=(0,Q.Z)("(max-width: 768px)"),s=(0,l.I0)(),o=(0,l.v9)(U.aQ),r=(0,l.v9)(m.us);(0,i.useEffect)((()=>{s((0,j._v)())}),[s]),(0,i.useEffect)((()=>{console.log(o)}),[o]);const c=e=>{s((0,j.Ks)(e)).then((()=>{s((0,j._v)())}))},d=(0,l.v9)(M.CS),_=(0,l.v9)(U.yR),h=_||{type:"",category:"",amount:"",date:new Date,comment:""},u=e=>{s((0,b.Qe)()),s(!d&&e?(0,j.Nr)(e):(0,j._v)())},x=e*t,g=x-t,p=Array.isArray(o)?o.slice(g,x):[],v=e=>a(e);return(0,y.jsxs)("div",{children:[n?(0,y.jsx)(y.Fragment,{children:p.map((e=>{const a=e.Expenses?"#ff6596":"#24cca7",t="expense"===e.type?"-":"+";return(0,y.jsxs)("ul",{className:"+"===t?O:V,style:{borderColor:a},children:[(0,y.jsxs)("li",{className:W,children:[(0,y.jsx)("span",{className:P,children:"Date"}),(0,y.jsx)("span",{className:q,children:ae(e.date)})]}),(0,y.jsxs)("li",{className:W,children:[(0,y.jsx)("span",{className:P,children:"Type"}),(0,y.jsx)("span",{className:q,children:t})]}),(0,y.jsxs)("li",{className:W,children:[(0,y.jsx)("span",{className:P,children:"Category"}),(0,y.jsx)("span",{className:q,children:(0,m.Oo)(e.category,r)})]}),(0,y.jsxs)("li",{className:W,children:[(0,y.jsx)("span",{className:P,children:"Comment"}),(0,y.jsx)("span",{className:q,children:e.comment})]}),(0,y.jsxs)("li",{className:W,children:[(0,y.jsx)("span",{className:P,children:"Sum"}),(0,y.jsx)("span",{className:"+"===t?R:G,children:e.amount})]}),(0,y.jsxs)("li",{className:W,children:[(0,y.jsx)("button",{className:Z,onClick:()=>c(e._id),children:"Delete"}),(0,y.jsxs)("button",{className:Y,onClick:()=>u(e._id),children:[(0,y.jsx)(w.zmo,{size:18}),"Edit"]})]})]},e._id)}))}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("table",{className:T,children:[(0,y.jsx)("thead",{className:E,children:(0,y.jsx)("tr",{className:A,children:te.map((e=>(0,y.jsx)("th",{className:H,children:e},e)))})}),(0,y.jsx)("tbody",{className:D,children:p.map((e=>{const a="expense"===e.type?"-":"+";return(0,y.jsxs)("tr",{className:I,children:[(0,y.jsx)("td",{className:S,children:ae(e.date)}),(0,y.jsx)("td",{className:S,children:a}),(0,y.jsx)("td",{className:S,children:(0,m.Oo)(e.category,r)}),(0,y.jsx)("td",{className:S,children:e.comment}),(0,y.jsxs)("td",{className:S,style:{color:e.Expenses?"#FF6596":"#24CCA7"},children:[e.amount," "]}),(0,y.jsx)("td",{children:(0,y.jsx)("button",{className:L,onClick:()=>u(e._id),children:(0,y.jsx)(w.zmo,{size:24})})}),(0,y.jsx)("td",{children:(0,y.jsx)("button",{className:F,onClick:()=>c(e._id),children:"Delete"})})]},e._id)}))})]}),(0,y.jsx)(ee,{transactionsPerPage:t,totalTransactions:o.length,paginate:v})]}),(0,y.jsx)(z,{transactionToEdit:h,isOpen:d,onClose:()=>u(null)})]})};function se(){const e=(0,k.useMediaQuery)({maxWidth:1279});let a;return(0,k.useMediaQuery)({minWidth:1280})?a=" ".concat(B.lineDesktop):e&&(a=" ".concat(B.lineMobileTablet)),(0,y.jsxs)(s.H,{children:[(0,y.jsx)(n.q,{children:(0,y.jsx)("title",{children:"Finance manager"})}),(0,y.jsx)(o.q,{}),(0,y.jsx)("div",{className:a}),(0,y.jsx)(ne,{}),(0,y.jsx)(C,{})]})}},2530:(e,a,t)=>{t.d(a,{Oo:()=>s,W9:()=>o,us:()=>n});const n=e=>e.categories.data,s=(e,a)=>{const t=!!Array.isArray(a)&&a.find((a=>a.id===e));return t&&t.name?t.name:"Other"},o=(e,a)=>{const t=!!Array.isArray(a)&&a.find((a=>a.id===e));return t&&t.color?t.color:"CornflowerBlue"}}}]);
//# sourceMappingURL=385.61be8e53.chunk.js.map